<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flip Card with Flags</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            min-height: 100vh;
            background-color: #f7f7f7;
            margin: 0;
        }

        h1 {
            font-size: 2.5rem;
            color: #333;
            margin-bottom: 20px;
        }

        .card-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            padding: 20px;
            max-width: 90%;
        }

        .card {
            width: 300px;
            height: 300px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s ease-in-out;
            cursor: pointer;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .card:hover {
            transform: rotateY(180deg);
        }

        .card-front, .card-back {
            width: 100%;
            height: 100%;
            position: absolute;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            padding: 10px;
            text-align: center;
        }

        .card-front {
            background-color: white;
            border: 2px solid #ddd;
        }

        .card-front img {
            width: 250px;
            height: 180px;
            margin-bottom: 10px;
            border-radius: 5px;
        }

        .card-back {
            background: #00bcd4;
            transform: rotateY(180deg);
            color: black;
        }

        .card-back h3 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: #eee7e7;
        }

        .trends-list {
            list-style: none;
            padding: 0;
            font-size: 16px;
            color: #f8f2f2;
            margin: 0;
        }

        .trends-list li {
            margin: 5px 0;
        }

        .buttons-container {
            margin-bottom: 20px;
        }

        .button {
            background-color: #00bcd4;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            margin: 10px;
            color: white;
            text-decoration: none;
        }

        .button:hover {
            background-color: #00bcd4;
        }

    </style>
</head>
<body>

    <h1>Trending Countries</h1>
    <div class="buttons-container">
        <a href="{{ url_for('index') }}" class="button">Map view</a>
        <a href="{{ url_for('interactive') }}" class="button">Interactive</a>
    </div>
    
    <div class="card-container">
        <!-- Norway -->
        <div class="card" onmouseover="fetchTrends('norway', this)">
            <div class="card-front">
                <img src="https://flagcdn.com/w320/no.png" alt="Norwegian Flag">
                <h3>Norway</h3>
            </div>
            <div class="card-back">
                <h3>Trending Now</h3>
                <ul class="trends-list">
                    <li>Loading...</li>
                </ul>
            </div>
        </div>

        <!-- United States -->
        <div class="card" onmouseover="fetchTrends('united_states', this)">
            <div class="card-front">
                <img src="https://flagcdn.com/w320/us.png" alt="United States Flag">
                <h3>United States</h3>
            </div>
            <div class="card-back">
                <h3>Trending Now</h3>
                <ul class="trends-list">
                    <li>Loading...</li>
                </ul>
            </div>
        </div>

        <!-- United Kingdom -->
        <div class="card" onmouseover="fetchTrends('united_kingdom', this)">
            <div class="card-front">
                <img src="https://flagcdn.com/w320/gb.png" alt="United Kingdom Flag">
                <h3>United Kingdom</h3>
            </div>
            <div class="card-back">
                <h3>Trending Now</h3>
                <ul class="trends-list">
                    <li>Loading...</li>
                </ul>
            </div>
        </div>

        <!-- France -->
        <div class="card" onmouseover="fetchTrends('france', this)">
            <div class="card-front">
                <img src="https://flagcdn.com/w320/fr.png" alt="French Flag">
                <h3>France</h3>
            </div>
            <div class="card-back">
                <h3>Trending Now</h3>
                <ul class="trends-list">
                    <li>Loading...</li>
                </ul>
            </div>
        </div>

        <!-- Germany -->
        <div class="card" onmouseover="fetchTrends('germany', this)">
            <div class="card-front">
                <img src="https://flagcdn.com/w320/de.png" alt="German Flag">
                <h3>Germany</h3>
            </div>
            <div class="card-back">
                <h3>Trending Now</h3>
                <ul class="trends-list">
                    <li>Loading...</li>
                </ul>
            </div>
        </div>

        <!-- Canada -->
        <div class="card" onmouseover="fetchTrends('canada', this)">
            <div class="card-front">
                <img src="https://flagcdn.com/w320/ca.png" alt="Canada Flag">
                <h3>Canada</h3>
            </div>
            <div class="card-back">
                <h3>Trending Now</h3>
                <ul class="trends-list">
                    <li>Loading...</li>
                </ul>
            </div>
        </div>

        <!-- Australia -->
        <div class="card" onmouseover="fetchTrends('australia', this)">
            <div class="card-front">
                <img src="https://flagcdn.com/w320/au.png" alt="Australia Flag">
                <h3>Australia</h3>
            </div>
            <div class="card-back">
                <h3>Trending Now</h3>
                <ul class="trends-list">
                    <li>Loading...</li>
                </ul>
            </div>
        </div>

        <!-- Japan -->
        <div class="card" onmouseover="fetchTrends('japan', this)">
            <div class="card-front">
                <img src="https://flagcdn.com/w320/jp.png" alt="Japan Flag">
                <h3>Japan</h3>
            </div>
            <div class="card-back">
                <h3>Trending Now</h3>
                <ul class="trends-list">
                    <li>Loading...</li>
                </ul>
            </div>
        </div>

        <!-- India -->
        <div class="card" onmouseover="fetchTrends('india', this)">
            <div class="card-front">
                <img src="https://flagcdn.com/w320/in.png" alt="India Flag">
                <h3>India</h3>
            </div>
            <div class="card-back">
                <h3>Trending Now</h3>
                <ul class="trends-list">
                    <li>Loading...</li>
                </ul>
            </div>
        </div>

        <!-- Brazil -->
        <div class="card" onmouseover="fetchTrends('brazil', this)">
            <div class="card-front">
                <img src="https://flagcdn.com/w320/br.png" alt="Brazil Flag">
                <h3>Brazil</h3>
            </div>
            <div class="card-back">
                <h3>Trending Now</h3>
                <ul class="trends-list">
                    <li>Loading...</li>
                </ul>
            </div>
        </div>

        <!-- Mexico -->
        <div class="card" onmouseover="fetchTrends('mexico', this)">
            <div class="card-front">
                <img src="https://flagcdn.com/w320/mx.png" alt="Mexico Flag">
                <h3>Mexico</h3>
            </div>
            <div class="card-back">
                <h3>Trending Now</h3>
                <ul class="trends-list">
                    <li>Loading...</li>
                </ul>
            </div>
        </div>

        <!-- South Korea -->
        <div class="card" onmouseover="fetchTrends('south_korea', this)">
            <div class="card-front">
                <img src="https://flagcdn.com/w320/kr.png" alt="South Korea Flag">
                <h3>South Korea</h3>
            </div>
            <div class="card-back">
                <h3>Trending Now</h3>
                <ul class="trends-list">
                    <li>Loading...</li>
                </ul>
            </div>
        </div>

        <!-- Italy -->
        <div class="card" onmouseover="fetchTrends('italy', this)">
            <div class="card-front">
                <img src="https://flagcdn.com/w320/it.png" alt="Italy Flag">
                <h3>Italy</h3>
            </div>
            <div class="card-back">
                <h3>Trending Now</h3>
                <ul class="trends-list">
                    <li>Loading...</li>
                </ul>
            </div>
        </div>

        <!-- Russia -->
        <div class="card" onmouseover="fetchTrends('russia', this)">
            <div class="card-front">
                <img src="https://flagcdn.com/w320/ru.png" alt="Russia Flag">
                <h3>Russia</h3>
            </div>
            <div class="card-back">
                <h3>Trending Now</h3>
                <ul class="trends-list">
                    <li>Loading...</li>
                </ul>
            </div>
        </div>

        <!-- Spain -->
        <div class="card" onmouseover="fetchTrends('spain', this)">
            <div class="card-front">
                <img src="https://flagcdn.com/w320/es.png" alt="Spain Flag">
                <h3>Spain</h3>
            </div>
            <div class="card-back">
                <h3>Trending Now</h3>
                <ul class="trends-list">
                    <li>Loading...</li>
                </ul>
            </div>
        </div>

        <!-- Saudi Arabia -->
        <div class="card" onmouseover="fetchTrends('saudi_arabia', this)">
            <div class="card-front">
                <img src="https://flagcdn.com/w320/sa.png" alt="Saudi Arabia Flag">
                <h3>Saudi Arabia</h3>
            </div>
            <div class="card-back">
                <h3>Trending Now</h3>
                <ul class="trends-list">
                    <li>Loading...</li>
                </ul>
            </div>
        </div>

        <!-- Argentina -->
        <div class="card" onmouseover="fetchTrends('argentina', this)">
            <div class="card-front">
                <img src="https://flagcdn.com/w320/ar.png" alt="Argentina Flag">
                <h3>Argentina</h3>
            </div>
            <div class="card-back">
                <h3>Trending Now</h3>
                <ul class="trends-list">
                    <li>Loading...</li>
                </ul>
            </div>
        </div>

        <!-- South Africa -->
        <div class="card" onmouseover="fetchTrends('south_africa', this)">
            <div class="card-front">
                <img src="https://flagcdn.com/w320/za.png" alt="South Africa Flag">
                <h3>South Africa</h3>
            </div>
            <div class="card-back">
                <h3>Trending Now</h3>
                <ul class="trends-list">
                    <li>Loading...</li>
                </ul>
            </div>
        </div>

    </div>

    <script>
        function fetchTrends(country, cardElement) {
            fetch(`/api/get-trends?country=${country}`)
            .then(response => response.json())
            .then(data => {
                let trendsList = cardElement.querySelector(".trends-list");
                trendsList.innerHTML = "";
                if (data.trends) {
                    data.trends.slice(0, 5).forEach(trend => {  // Limit to 5 trends
                        let li = document.createElement("li");
                        li.textContent = trend;
                        trendsList.appendChild(li);
                    });
                } else {
                    trendsList.innerHTML = "<li>No data available</li>";
                }
            })
            .catch(error => console.error("Error fetching trends:", error));
        }
    </script>

</body>
</html>
